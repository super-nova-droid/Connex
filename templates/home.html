<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Welcome to Connex</title>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600&display=swap" rel="stylesheet" />
  <style>
    
    /* Scoped styles for home page content only */
    .home-content {
      --gap: 100rem;
      --stroke: 8;            /* stroke width */
      --font-size: clamp(40px, 12vw, 160px); /* Increased from clamp(36px, 10vw, 150px) */
      --dash-speed-base: 3.5s;   /* base dash cycle duration */
      --spin-speed: 8s;          /* gradient rotation duration */
    }

    /* Background image styling with lateral inversion */
    body::before {
      content: '';
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background-image: url("{{ url_for('static', filename='images/Older-Adults-and-the-Importance-of-Social-Interaction.jpg') }}");
      background-size: cover;
      background-position: center;
      background-repeat: no-repeat;
      background-attachment: fixed;
      transform: scaleX(-1); /* Lateral inversion */
      z-index: -2; /* Behind everything including bg.html */
      opacity: 0.8; /* Slight transparency for better text readability */
    }

    /* Add subtle overlay to ensure text readability */
    .home-content::before {
      content: '';
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: linear-gradient(135deg, 
        rgba(0, 0, 0, 0.6) 0%, 
        rgba(20, 20, 20, 0.5) 25%, 
        rgba(40, 40, 40, 0.5) 50%, 
        rgba(60, 60, 60, 0.6) 75%, 
        rgba(80, 80, 80, 0.5) 100%
      );
      z-index: -1;
      pointer-events: none;
    }

    .home-content * { box-sizing: border-box; }
    
    .home-content .wrap {
      display: flex;
      justify-content: center;
      align-items: center;
      gap: var(--gap);
      padding: 2rem;
      width: 100%;
    }

    .home-content .row {
      display: flex;
      align-items: center;
      justify-content: center;
      gap: var(--gap);
      position: relative;
      width: 100%;
    }

    /* utility */
    .home-content .absolute { position: absolute; inset: 0; }
    .home-content .inline-block { display: inline-block; }

    /* core stroke animations with varying speeds */
    .home-content .dash {
      animation:
        dashArray var(--dash-speed, var(--dash-speed-base)) ease-in-out infinite,
        dashOffset var(--dash-speed, var(--dash-speed-base)) linear infinite;
      animation-fill-mode: both;
      stroke-linecap: round;
      stroke-linejoin: round;
      stroke-dasharray: 0 1000; /* Start untraced */
    }

    .home-content .spin-dash {
      animation:
        spinDashArray var(--dash-speed, var(--dash-speed-base)) ease-in-out infinite,
        dashOffset var(--dash-speed, var(--dash-speed-base)) linear infinite;
      animation-fill-mode: both;
      stroke-linecap: round;
      stroke-linejoin: round;
      stroke-dasharray: 0 360; /* Start untraced */
    }

    /* staggered speeds and delays for each letter */
    .home-content .L0 { 
      --dash-speed: 3.5s;
      animation-delay: 0s, 0s; 
    }
    .home-content .L1 { 
      --dash-speed: 3.5s;
      animation-delay: 0.2s, 0.2s; 
    }
    .home-content .L2 { 
      --dash-speed: 3.5s;
      animation-delay: 0.4s, 0.4s; 
    }
    .home-content .L3 { 
      --dash-speed: 3.5s;
      animation-delay: 0.6s, 0.6s; 
    }
    .home-content .L4 { 
      --dash-speed: 3.5s;
      animation-delay: 0.8s, 0.8s; 
    }
    .home-content .L5 { 
      --dash-speed: 3.5s;
      animation-delay: 1.0s, 1.0s; 
    }

    /* text node sizing */
    .home-content svg.letter {
      width: auto;
      height: 1em;            /* scales with font-size wrapper */
      display: block;
    }

    .home-content .text {
      font-size: var(--font-size);
      font-weight: 800;
      letter-spacing: 0.02em;
      fill: none;             /* outline only */
      stroke-width: var(--stroke);
      stroke-linecap: round;  /* curved line ends */
      stroke-linejoin: round; /* curved line joints */
    }

    /* subtle glow behind strokes */
    .home-content .glow {
      filter: drop-shadow(0 0 12px rgba(255, 105, 180, .35))
              drop-shadow(0 0 28px rgba(255, 0, 128, .2));
    }

    /* keyframes (ported from your snippet style) */
    @keyframes dashArray {
      0%   { stroke-dasharray: 0 1000; }
      25%  { stroke-dasharray: 500 500; }
      50%  { stroke-dasharray: 1000 0; }
      75%  { stroke-dasharray: 500 500; }
      100% { stroke-dasharray: 0 1000; }
    }
    @keyframes spinDashArray {
      0%   { stroke-dasharray: 0 360; }
      25%  { stroke-dasharray: 180 180; }
      50%  { stroke-dasharray: 360 0; }
      75%  { stroke-dasharray: 180 180; }
      100% { stroke-dasharray: 0 360; }
    }
    @keyframes dashOffset {
      0%   { stroke-dashoffset: 1000; }
      50%  { stroke-dashoffset: 0; }
      100% { stroke-dashoffset: -1000; }
    }

    /* responsive helper so the whole word scales nicely */
    .home-content .word {
      font-size: var(--font-size);
      line-height: 1;
      display: inline-flex;
      align-items: center;
      gap: .1em;
    }

    .home-content {
      margin: 0;
      padding: 0;
      font-family: 'Inter', sans-serif;
      overflow-x: hidden;
    }

    /* Ensure content wrapper stays on top */
    .content-wrapper {
      position: relative;
      z-index: 10;
    }

    .home-content main {
      padding: 60px 20px;
      display: flex;
      justify-content: center;
      align-items: center;
    }

    .home-content h1 {
      color: #b30000;
      font-size: 3em;
      margin-bottom: 20px;
    }

    .home-content p {
      font-size: 1.2em;
      line-height: 1.6;
      margin-bottom: 25px;
    }

    .home-content .action-button {
      background-color: #b30000;
      color: white;
      padding: 12px 25px;
      border: none;
      border-radius: 8px;
      font-size: 1.1em;
      cursor: pointer;
      text-decoration: none;
      transition: background-color 0.3s ease, transform 0.2s ease;
      display: inline-block;
      margin: 10px;
    }

    .home-content .action-button:hover {
      background-color: #800000;
      transform: translateY(-2px);
    }

    /* Animated button styles */
    .home-content .animated-button {
      position: relative;
      display: inline-flex;
      align-items: center;
      gap: 4px;
      padding: 12px 24px;
      border: 4px solid;
      border-color: transparent;
      font-size: 14px;
      background-color: inherit;
      border-radius: 50px;
      font-weight: 600;
      color: #ffdbf0;
      box-shadow: 
        0 0 0 3px #ff7bbd,
        0 0 15px rgba(255, 255, 255, 0.3),
        0 0 30px rgba(255, 255, 255, 0.2);
      cursor: pointer;
      overflow: hidden;
      transition: all 0.6s cubic-bezier(0.23, 1, 0.32, 1);
      text-decoration: none;
      margin: 10px;
    }

    .home-content .animated-button svg {
      position: absolute;
      width: 24px;
      fill: #ffdbf0;
      z-index: 9;
      transition: all 0.8s cubic-bezier(0.23, 1, 0.32, 1);
    }

    .home-content .animated-button .arr-1 {
      right: 12px;
    }

    .home-content .animated-button .arr-2 {
      left: -25%;
    }

    .home-content .animated-button .circle {
      position: absolute;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      width: 16px;
      height: 16px;
      background-color: #FF69B4;
      border-radius: 50%;
      opacity: 0;
      transition: all 0.8s cubic-bezier(0.23, 1, 0.32, 1);
    }

    .home-content .animated-button .text {
      position: relative;
      z-index: 1;
      transform: translateX(-12px);
      transition: all 0.8s cubic-bezier(0.23, 1, 0.32, 1);
      font-size: 1.3em;
      padding: 14px;
      padding-top: 8px;
      padding-bottom: 8px;
    }

    .home-content .animated-button:hover {
      box-shadow: 
        0 0 0 8px transparent,
        0 0 25px rgba(255, 255, 255, 0.5),
        0 0 50px rgba(255, 255, 255, 0.3);
      color: #ffffff;
      border-radius: 10px;
      padding-top: 12px;
      padding-bottom: 16px;
    }

    .home-content .animated-button:hover .arr-1 {
      right: -25%;
    }

    .home-content .animated-button:hover .arr-2 {
      left: 12px;
    }

    .home-content .animated-button:hover .text {
      transform: translateX(12px);
    }

    .home-content .animated-button:hover svg {
      fill: #ffffff;
    }

    .home-content .animated-button:active {
      scale: 0.95;
      box-shadow: 0 0 0 6px #d760a4;
    }

    .home-content .animated-button:hover .circle {
      width: 220px;
      height: 220px;
      opacity: 1;
    }

    /* Flash message styling matching signup.html */
    .flash-message {
        margin-bottom: 10px;
        padding: 10px;
        border-radius: 5px;
        border: 1px solid;
        backdrop-filter: blur(10px);
        -webkit-backdrop-filter: blur(10px);
    }
    
    .flash-success {
        background-color: rgba(40, 167, 69, 0.2);
        color: #ffffff;
        border-color: rgba(40, 167, 69, 0.4);
    }
    
    .flash-info {
        background-color: rgba(23, 162, 184, 0.2);
        color: #ffffff;
        border-color: rgba(23, 162, 184, 0.4);
    }
    
    .flash-error {
        background-color: rgba(220, 53, 69, 0.2);
        color: #ffffff;
        border-color: rgba(220, 53, 69, 0.4);
    }
    
    /* Fixed alert message styling from signup.html */
    .location-message {
        position: fixed !important;
        top: 80px; /* Position below navbar */
        left: 0;
        right: 0;
        z-index: 9999;
        margin: 0 !important;
        padding: 15px 50px 15px 20px;
        border-radius: 0;
        border: none;
        border-bottom: 1px solid rgba(255, 255, 255, 0.2);
        font-weight: 500;
        box-shadow: 0 2px 10px rgba(0, 0, 0, 0.2);
        backdrop-filter: blur(10px);
        transform: translateY(-100%);
        animation: slideInFromTop 0.5s ease-out forwards;
        display: flex;
        align-items: center;
        justify-content: space-between;
    }
    
    .location-message-content {
        flex: 1;
        margin-right: 10px;
    }
    
    .location-message-close {
        background: none;
        border: none;
        color: inherit;
        font-size: 26px; /* Increased from 20px by 30% */
        font-weight: bold;
        cursor: pointer;
        padding: 0;
        margin: 0;
        line-height: 1;
        transition: opacity 0.2s ease, transform 0.2s ease;
    }
    
    .location-message-close:hover {
        opacity: 0.7;
        transform: scale(1.1);
    }
    
    @keyframes slideInFromTop {
        from {
            transform: translateY(-100%);
        }
        to {
            transform: translateY(0);
        }
    }
    
    @keyframes slideOutToTop {
        from {
            transform: translateY(0);
        }
        to {
            transform: translateY(-100%);
        }
    }
    
    .location-message.slide-out {
        animation: slideOutToTop 0.3s ease-in forwards;
    }

    @media (max-width: 768px) {
      .home-content h1 {
        font-size: 2.2em;
      }

      .home-content p {
        font-size: 1em;
      }

      .home-content .action-button {
        padding: 10px 20px;
        font-size: 1em;
      }
    }
  </style>
</head>
<body>
  {% include 'includes/bg.html' %}
  <div class="content-wrapper">
    {% include 'includes/navbar.html' %}

    <div class="home-content">
      <main>
        <div class="welcome-box">
          <div class="message-container">
            {% with messages = get_flashed_messages(with_categories=true) %}
              {% if messages %}
                {% for category, message in messages %}
                  <div class="flash-message flash-{{ category }} location-message">
                    <div class="location-message-content">{{ message }}</div>
                    <button class="location-message-close" onclick="closeFlashMessage(this)">Ã—</button>
                  </div>
                {% endfor %}
              {% endif %}
            {% endwith %}
          </div>

          <div class="wrap" style="margin-left: 25px;">
          <!-- Hidden defs: rotating gradients in the pink family -->
          <svg class="absolute" width="0" height="0" viewBox="0 0 10 10" aria-hidden="true" focusable="false">
            <defs>
              <!-- Each gradient rotates via animateTransform like in your original -->
              <linearGradient id="gC" x1="0" y1="0" x2="0" y2="1" gradientUnits="objectBoundingBox">
                <stop offset="0"  stop-color="#FF8BD1"/>
                <stop offset="1"  stop-color="#FF3CAC"/>
                <animateTransform attributeName="gradientTransform" type="rotate"
                  values="0 .5 .5; -270 .5 .5; -540 .5 .5; -810 .5 .5; -1080 .5 .5"
                  dur="8s" repeatCount="indefinite"/>
              </linearGradient>
              <linearGradient id="gO" x1="0" y1="0" x2="0" y2="1">
                <stop offset="0"  stop-color="#FFC1E3"/>
                <stop offset="1"  stop-color="#F72585"/>
                <animateTransform attributeName="gradientTransform" type="rotate"
                  values="0 .5 .5; -270 .5 .5; -540 .5 .5; -810 .5 .5; -1080 .5 .5"
                  dur="8s" repeatCount="indefinite"/>
              </linearGradient>
              <linearGradient id="gN1" x1="0" y1="0" x2="0" y2="1">
                <stop offset="0"  stop-color="#FFD1F0"/>
                <stop offset="1"  stop-color="#FF2D7A"/>
                <animateTransform attributeName="gradientTransform" type="rotate"
                  values="0 .5 .5; -270 .5 .5; -540 .5 .5; -810 .5 .5; -1080 .5 .5"
                  dur="8s" repeatCount="indefinite"/>
              </linearGradient>
              <linearGradient id="gN2" x1="0" y1="0" x2="0" y2="1">
                <stop offset="0"  stop-color="#FF9AD5"/>
                <stop offset="1"  stop-color="#E20074"/>
                <animateTransform attributeName="gradientTransform" type="rotate"
                  values="0 .5 .5; -270 .5 .5; -540 .5 .5; -810 .5 .5; -1080 .5 .5"
                  dur="8s" repeatCount="indefinite"/>
              </linearGradient>
              <linearGradient id="gE" x1="0" y1="0" x2="0" y2="1">
                <stop offset="0"  stop-color="#FFB3D9"/>
                <stop offset="1"  stop-color="#B83280"/>
                <animateTransform attributeName="gradientTransform" type="rotate"
                  values="0 .5 .5; -270 .5 .5; -540 .5 .5; -810 .5 .5; -1080 .5 .5"
                  dur="8s" repeatCount="indefinite"/>
              </linearGradient>
              <linearGradient id="gX" x1="0" y1="0" x2="0" y2="1">
                <stop offset="0"  stop-color="#FF7ABF"/>
                <stop offset="1"  stop-color="#8A2BE2"/>
                <animateTransform attributeName="gradientTransform" type="rotate"
                  values="0 .5 .5; -270 .5 .5; -540 .5 .5; -810 .5 .5; -1080 .5 .5"
                  dur="8s" repeatCount="indefinite"/>
              </linearGradient>
            </defs>
          </svg>

          <!-- The animated word -->
          <div class="row">
            <div class="word glow" role="img" aria-label="Animated word Connex" style="display: flex; justify-content: center; width: 100%; align-items: center;">
              <!-- C -->
              <svg class="letter inline-block" viewBox="0 -20 200 200" aria-hidden="true">
                <text class="text dash L0" x="0" y="120" stroke="url(#gC)">C</text>
              </svg>

              <!-- o -->
              <svg class="letter inline-block" viewBox="0 -20 200 200" aria-hidden="true">
                <text class="text spin-dash L1" x="0" y="120" stroke="url(#gO)">O</text>
              </svg>

              <!-- n -->
              <svg class="letter inline-block" viewBox="0 -20 200 200" aria-hidden="true">
                <text class="text dash L2" x="0" y="120" stroke="url(#gN1)">N</text>
              </svg>

              <!-- n -->
              <svg class="letter inline-block" viewBox="0 -20 200 200" aria-hidden="true">
                <text class="text dash L3" x="0" y="120" stroke="url(#gN2)">N</text>
              </svg>

              <!-- e -->
              <svg class="letter inline-block" viewBox="0 -20 200 200" aria-hidden="true">
                <text class="text spin-dash L4" x="0" y="120" stroke="url(#gE)">E</text>
              </svg>

              <!-- x -->
              <svg class="letter inline-block" viewBox="0 -20 200 200" aria-hidden="true">
                <text class="text dash L5" x="0" y="120" stroke="url(#gX)">X</text>
              </svg>
            </div>
          </div>
        </div>
        <br>
          <p style="color: white; align-items: center; display: flex; justify-content: center; font-size: 1.2em; font-weight: bold;">Your one-stop platform for Digital Wellness events tailored for seniors</p>
          <p style="color: white; align-items: center; display: flex; justify-content: center; font-size: 1.2em; font-weight: bold;">Discover new events, connect with the community, and enhance your digital skills</p>
          <br>
          <div style="display: flex; justify-content: center; width: 100%;">
            <a href="{{ url_for('usereventpage') }}" class="animated-button">
              <svg viewBox="0 0 24 24" class="arr-2" xmlns="http://www.w3.org/2000/svg">
                <path
                  d="M16.1716 10.9999L10.8076 5.63589L12.2218 4.22168L20 11.9999L12.2218 19.778L10.8076 18.3638L16.1716 12.9999H4V10.9999H16.1716Z"
                ></path>
              </svg>
              <span class="text">Explore Events</span>
              <span class="circle"></span>
              <svg viewBox="0 0 24 24" class="arr-1" xmlns="http://www.w3.org/2000/svg">
                <path
                  d="M16.1716 10.9999L10.8076 5.63589L12.2218 4.22168L20 11.9999L12.2218 19.778L10.8076 18.3638L16.1716 12.9999H4V10.9999H16.1716Z"
                ></path>
            </svg>
            </a>
          </div>
        </div>
      </main>
    </div>
  </div>

  <script>
        /* ...existing code... */
        
        // Flash message close function
        function closeFlashMessage(button) {
            const messageDiv = button.closest('.flash-message');
            if (messageDiv) {
                messageDiv.classList.add('slide-out');
                setTimeout(() => {
                    if (messageDiv.parentNode) {
                        messageDiv.remove();
                    }
                }, 300);
            }
        }
        
        // Auto-remove flash messages after 10 seconds
        document.addEventListener('DOMContentLoaded', function() {
            const flashMessages = document.querySelectorAll('.flash-message');
            flashMessages.forEach(message => {
                setTimeout(() => {
                    if (message.parentNode) {
                        message.classList.add('slide-out');
                        setTimeout(() => {
                            if (message.parentNode) {
                                message.remove();
                            }
                        }, 300);
                    }
                }, 10000);
            });
        });
        
        /* ...existing code... */
  </script>
</body>
</html>
